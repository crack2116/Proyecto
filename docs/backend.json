{
  "entities": {
    "Client": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Client",
      "type": "object",
      "description": "Represents a client using the transport services.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the client."
        },
        "ruc": {
          "type": "string",
          "description": "Client's RUC number."
        },
        "name": {
          "type": "string",
          "description": "Client's name."
        },
        "address": {
          "type": "string",
          "description": "Client's address."
        },
        "contactName": {
          "type": "string",
          "description": "Contact name for the client."
        },
        "contactPhone": {
          "type": "string",
          "description": "Contact phone number for the client."
        },
        "contactEmail": {
          "type": "string",
          "description": "Contact email for the client.",
          "format": "email"
        }
      },
      "required": [
        "id",
        "ruc",
        "name"
      ]
    },
    "Driver": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Driver",
      "type": "object",
      "description": "Represents a driver employed by the transport service.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the driver."
        },
        "firstName": {
          "type": "string",
          "description": "Driver's first name."
        },
        "lastName": {
          "type": "string",
          "description": "Driver's last name."
        },
        "licenseNumber": {
          "type": "string",
          "description": "Driver's license number."
        },
        "contactPhone": {
          "type": "string",
          "description": "Driver's contact phone number."
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "licenseNumber"
      ]
    },
    "Vehicle": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Vehicle",
      "type": "object",
      "description": "Represents a vehicle used for transport services.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the vehicle."
        },
        "driverId": {
          "type": "string",
          "description": "Reference to Driver. (Relationship: Driver 1:N Vehicle)"
        },
        "make": {
          "type": "string",
          "description": "Vehicle's make (e.g., Toyota)."
        },
        "model": {
          "type": "string",
          "description": "Vehicle's model (e.g., Camry)."
        },
        "licensePlate": {
          "type": "string",
          "description": "Vehicle's license plate number."
        },
        "vehicleType": {
          "type": "string",
          "description": "Vehicle's type (e.g., Sedan, Truck)."
        }
      },
      "required": [
        "id",
        "make",
        "model",
        "licensePlate"
      ]
    },
    "ServiceRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ServiceRequest",
      "type": "object",
      "description": "Represents a transport service request.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the service request."
        },
        "clientId": {
          "type": "string",
          "description": "Reference to Client. (Relationship: Client 1:N ServiceRequest)"
        },
        "driverId": {
          "type": "string",
          "description": "Reference to Driver. (Relationship: Driver 1:N ServiceRequest)"
        },
        "vehicleId": {
          "type": "string",
          "description": "Reference to Vehicle. (Relationship: Vehicle 1:N ServiceRequest)"
        },
        "pickupLocation": {
          "type": "string",
          "description": "Pickup location for the service."
        },
        "destination": {
          "type": "string",
          "description": "Destination for the service."
        },
        "requestDate": {
          "type": "string",
          "description": "Date of the service request.",
          "format": "date-time"
        },
        "serviceDate": {
          "type": "string",
          "description": "Date of the service.",
          "format": "date-time"
        },
        "specialRequirements": {
          "type": "string",
          "description": "Any special requirements for the service."
        },
        "status": {
          "type": "string",
          "description": "Status of the service request (e.g., Pending, Assigned, Completed)."
        }
      },
      "required": [
        "id",
        "clientId",
        "pickupLocation",
        "destination",
        "requestDate",
        "status"
      ]
    },
    "Route": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Route",
      "type": "object",
      "description": "Represents a route taken by a vehicle.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the route."
        },
        "serviceRequestId": {
          "type": "string",
          "description": "Reference to ServiceRequest. (Relationship: ServiceRequest 1:N Route)"
        },
        "startPoint": {
          "type": "string",
          "description": "Starting point of the route."
        },
        "endPoint": {
          "type": "string",
          "description": "Ending point of the route."
        },
        "distance": {
          "type": "number",
          "description": "Distance of the route in kilometers."
        },
        "estimatedTime": {
          "type": "number",
          "description": "Estimated time to complete the route in minutes."
        }
      },
      "required": [
        "id",
        "serviceRequestId",
        "startPoint",
        "endPoint"
      ]
    },
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the system (administrator or assistant).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "username": {
          "type": "string",
          "description": "User's username."
        },
        "role": {
          "type": "string",
          "description": "User's role (e.g., administrator, assistant)."
        }
      },
      "required": [
        "id",
        "username",
        "role"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/User"
      },
      "description": "Stores user profiles. Accessible only by the user and admins."
    },
    "/roles_admin/{userId}": {
      "schema": {
        "$ref": "#/entities/User"
      },
      "description": "Indicates admin role. Existence of document grants admin privileges."
    },
    "/clients/{clientId}": {
      "schema": {
        "$ref": "#/entities/Client"
      },
      "description": "Stores client information. Accessible by admins and associated users."
    },
    "/drivers/{driverId}": {
      "schema": {
        "$ref": "#/entities/Driver"
      },
      "description": "Stores driver information. Accessible by admins."
    },
    "/vehicles/{vehicleId}": {
      "schema": {
        "$ref": "#/entities/Vehicle"
      },
      "description": "Stores vehicle information. Accessible by admins."
    },
    "/serviceRequests/{serviceRequestId}": {
      "schema": {
        "$ref": "#/entities/ServiceRequest"
      },
      "description": "Stores transport service requests. Accessible by admins and the client who created it."
    },
    "/routes/{routeId}": {
      "schema": {
        "$ref": "#/entities/Route"
      },
      "description": "Stores route information. Accessible by admins."
    }
  }
}
